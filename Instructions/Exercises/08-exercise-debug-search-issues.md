---
lab:
  title: تصحيح مشكلات البحث
---
<style>
  body {
    direction: rtl;
    text-align: right;
    font-family: Arial, sans-serif; /* Ensure Arabic fonts are supported */
  }

  h1, h2, h3, h4, h5, h6 {
    text-align: right;
  }

  p {
    text-align: right;
  }
</style>


# تصحيح مشكلات البحث

لقد أنشأت حل البحث الخاص بك ولكنك لاحظت أن هناك بعض التحذيرات على المفهرس.

في هذا التمرين، ستنشئ حل بحث الذكاء الاصطناعي في Azure واستيراد بعض نماذج البيانات، ثم حل تحذير على المفهرس.

> **ملاحظة**: لإكمال هذا التمرين، ستحتاج إلى اشتراك Microsoft Azure. إذا لم يكن لديك اشتراك بالفعل، يمكنك التسجيل للحصول على الإصدار التجريبي على [https://azure.com/free](https://azure.com/free?azure-portal=true) .

## إنشاء حل البحث الخاص بك

قبل أن تتمكن من البدء في استخدام جلسة تتبع الأخطاء، تحتاج إلى إنشاء خدمة البحث بالذكاء الاصطناعي في Azure.

1. [توزيع الموارد إلى Azure](https://portal.azure.com/#create/Microsoft.Template/uri/https%3A%2F%2Fraw.githubusercontent.com%2FMicrosoftLearning%2Fmslearn-knowledge-mining%2Fmain%2FLabfiles%2F08-debug-search%2Fazuredeploy.json) - إذا كنت في جهاز ظاهري (VM) مستضاف، فانسخ هذا الارتباط والصقه في متصفح الجهاز الظاهري (VM). بخلاف ذلك، حدد هذا الرابط لتوزيع كافة الموارد التي تحتاجها في بوابة Azure.

    ![لقطة شاشة لقالب توزيع arm مع الحقول التي تم إدخالها.](../media/08-media/arm-template-deployment.png)

1. ضمن **مجموعة الموارد**، حدد مجموعة الموارد المتوفرة أو حدد **إنشاء جديدة** واكتب **debug-search-exercise**.
1. حدد أقرب **منطقة** لك، أو استخدم الإعداد الافتراضي.
1. بالنسبة إلى **بادئة الموارد**، أدخل **debugsearch** وأضف مجموعة عشوائية من الأرقام أو الأحرف للتأكد من أن اسم التخزين فريد.
1. بالنسبة إلى الموقع، حدد نفس المنطقة التي استخدمتها أعلاه.
1. في جزء التنقل السفلي، حدد **Review + create**.
1. انتظر حتى يتم توزيع الموارد، ثم حدد **Go to resource group**.

## استيراد عينة البيانات وتكوين الموارد

باستخدام الموارد التي تم إنشاؤها، يمكنك الآن استيراد بيانات المصدر الخاص بك.

1. في الموارد المدرجة، انتقل إلى حساب التخزين. لتنفيذ ذلك، انتقل إلى **التكوين** في الجزء الأيسر، واضبط **السماح بالوصول المجهول للكائن الثنائي كبير الحجم** على **تمكين** ثم حدد **حفظ**.
1. انتقل مرة أخرى إلى مجموعة الموارد الخاصة بك، وحدد خدمة البحث.
1. ثم، في جزء **Overview** حدد **Import data**.

      ![لقطة شاشة تعرض قائمة import data المحددة.](../media/08-media/import-data.png)

1. في جزء استيراد البيانات، لمصدر البيانات، حدد **Samples**.

      ![لقطة شاشة تعرض الحقول المكتملة.](../media/08-media/import-data-selection-screen-small.png)

1. في قائمة العينات، حدد **hotels-sample**.
1. حدد **Next:Add cognitive skills (Optional)**.
1. قم بتوسيع القسم **Add enrichments**.

    ![لقطة شاشة لخيارات add enrichments.](../media/08-media/add-enrichments.png)

1. حدد **Text Cognitive Skills**.
1. حدد **Next:Customize target index**.
1. اترك الإعدادات الافتراضية، ثم حدد **Next:Create an indexer**.
1. حدد **إرسال**.

## استخدام جلسة تصحيح الأخطاء لحل التحذيرات على المفهرس الخاص بك

سيبدأ المفهرس الآن في استيعاب 50 مستنداً. مع ذلك، إذا تحققت من حالة المفهرس، فستجد أن هناك تحذيرات.

![لقطة شاشة تعرض 150 تحذيراً على أداة الفهرسة.](../media/08-media/indexer-warnings.png)

1. حدد **جلسات تتبع الأخطاء** في الجزء الأيمن.
1. حدد **+ إضافة جلسة تتبع الأخطاء**.
1. أدخل اسما لجلسة العمل، وحدد **hotel-sample-indexer** **لقالب المفهرس**.
1. حدد حساب التخزين الخاص بك من حقل **حساب التخزين**. سيؤدي هذا تلقائيًا إلى إنشاء حاوية تخزين للاحتفاظ ببيانات تتبع الأخطاء.
1. اترك خانة الاختيار للمصادقة باستخدام هوية مدارة غير محددة.
1. حدد **حفظ**.
1. بمجرد الإنشاء، سيتم تشغيل جلسة عمل تتبع الأخطاء تلقائيًا على البيانات في خدمة البحث الخاصة بك. يجب أن يكتمل مع إعطاء أخطاء/تحذيرات.

    يوضح لك مخطط التبعية أنه لكل مستند هناك خطأ على ثلاث مهارات.
    ![لقطة شاشة تعرض التحذيرات الثلاثة على مستند جرى إثراؤه.](../media/08-media/debug-session-errors.png)

    > **ملاحظة**: قد ترى خطأ حول الاتصال بحساب التخزين وتكوين الهويات المُدارة. يحدث هذا إذا حاولت تتبع الأخطاء بسرعة كبيرة بعد تمكين الوصول المجهول للكائن الثنائي كبير الحجم، ويجب أن يستمر تشغيل جلسة عمل تتبع الأخطاء في العمل. يجب أن يؤدي تحديث نافذة المتصفح بعد بضع دقائق إلى إزالة التحذير.

1. في مخطط التبعية، حدد إحدى عقد المهارة التي تحتوي على خطأ.
1. في جزء تفاصيل المهارات، حدد **Errors/Warnings(1)**.

    التفاصيل هي:

    *رمز لغة غير صالح "(غير معروف)". اللغات المدعومة: af ،am ،ar ،as ،az ،bg ،bn ،bs ،ca ،cs ،cy ،da ،de ،el ،en ،es ،et ،eu ،fa ،fi ،fr ،ga ،gl ،gu ،he ،hi ،hr ،hu ،hy ،id ،it ،ja ،ka ،kk ،km ،kn ،ko ،ku ،ky ،lo ،lt ،lv ،mg ،mk ،ml ،mn ،mr ،ms ،my ،ne ،nl ،no ،or ،pa ،pl ،ps ،pt-BR ،pt-PT ،ro ،ru ،sk ،sl ،so ،sq ،sr ،ss ،sv ،sw ،ta ،te ،th ،tr ،ug ،uk ،ur ،uz ،vi ،zh-Hans ،zh-Hant. للحصول على تفاصيل إضافية، راجع https://aka.ms/language-service/language-support.*

    إذا نظرت إلى مخطط التبعية، فإن مهارة الكشف عن اللغة لها مخرجات للمهارات الثلاث مع أخطاء. إذا نظرت إلى إعدادات المهارة مع وجود أخطاء، فسترى إدخال المهارة الذي يسبب الخطأ هو `languageCode`.

1. في مخطط التبعية، حدد **Language detection**.

    ![لقطة شاشة تعرض إعدادات المهارات لمهارة الكشف عن اللغة.](../media/08-media/language-detection-skill-settings.png)
    بالنظر إلى إعدادات المهارة JSON، لاحظ أن الحقل المستخدم لاستدلال اللغة هو `HotelId`.

    سيتسبب هذا الحقل في الخطأ حيث لا يمكن للمهارة العمل على اللغة استناداً إلى معرف.

## حل التحذير على المفهرس

1. حدد **المصدر** ضمن الإدخالات، وغيِّر الحقل إلى `/document/Description`.
1. حدد **حفظ**.
1. حدد **تشغيل**. يجب ألا يكون لدى المفهرس أي تحذيرات بعد الآن. يمكن الآن تحديث مجموعة المهارات.

    ![لقطة شاشة تعرض تشغيلًا مكتملًا بدون أخطاء.](../media/08-media/debug-session-complete.png)
   
1. حدد **تثبيت التغييرات** لدفع التغييرات التي تم إجراؤها في جلسة العمل هذه إلى المفهرس الخاص بك.
1. حدد **موافق**. يمكنك الآن حذف جلسة العمل الخاصة بك.

الآن تحتاج إلى التأكد من إرفاق مجموعة المهارات الخاصة بك بمورد خدمات بحث الذكاء الاصطناعي في Azure وإلا فستحصل على عرض الأسعار الأساسي وسيحصل المفهرس على مهلة. 

1. لتنفيذ ذلك، حدد **مجموعات المهارات** في الجزء الأيمن، ثم حدد مجموعة **hotels-sample-skillset**.

    ![لقطة شاشة تعرض قائمة مجموعة المهارات.](../media/08-media/update-skillset.png)
1. حدد **توصيل خدمة الذكاء الاصطناعي** ثم حدد مورد خدمات الذكاء الاصطناعي في القائمة.

    ![لقطة شاشة تعرض مورد خدمات الذكاء الاصطناعي في Azure لإرفاقه بمجموعة المهارات.](../media/08-media/skillset-attach-service.png)
1. حدد **حفظ**.

1. الآن عليك تشغيل المفهرس لتحديث المستندات بإثراء الذكاء الاصطناعي الثابت. لتنفيذ ذلك، حدد **مفهرسات** في الجزء الأيمن، وحدد  **hotels-sample-indexer**، ثم حدد **تشغيل**.  عند الانتهاء من التشغيل، يجب أن ترى أن التحذيرات الآن صفر.

    ![لقطة شاشة تعرض كل ما تم حله.](../media/08-media/warnings-fixed-indexer.png)

## التنظيف

 لقد أكملت الآن التمرين، إذا انتهيت من استكشاف خدمات بحث الذكاء الاصطناعي في Azure، فاحذف موارد Azure التي أنشأتها خلال التمرين. أسهل طريقة للقيام بذلك هي حذف مجموعة الموارد **acs-cognitive-search-exercise**.
